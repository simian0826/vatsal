import{H as z}from"./HeroSection-d0d8386c.js";import{d as D,u as M,r,s as N,v as P,w as q,o as T,b as s,c as a,e as _,f as t,h,l as x,x as V,F as S,k as w,y as $,t as L,i as f,z as A,A as F,B as U,p as j,q as E,_ as G}from"./index-b464f64a.js";import{L as J}from"./loading-f26edcd5.js";const K=""+new URL("icons/link.png",import.meta.url).href,O=l=>(j("data-v-5763ae34"),l=l(),E(),l),Q={class:"project-list-container"},W={class:"content-container"},X=["onClick"],Y={class:"category-name"},Z=["onClick"],ee=O(()=>t("div",{class:"mask-container"},[t("img",{class:"icon",src:K})],-1)),te=["src"],oe={class:"text-area"},se={class:"product-name"},ae={class:"load-more-container"},ne=["element-loading-spinner"],ce={key:1,class:"no-more"},re=D({__name:"index",setup(l){const i=M(),p=r(!1),y=r(!0),R=N(),d=r({page:1,pageSize:6}),u=P(()=>R.getProductCategories.map(e=>e.value)),c=r(u.value[0]),v=r([]),g=async(e=!1)=>{e&&(d.value.page=1,v.value=[]),p.value=!0;const n=await U({category:f(c),...d.value});p.value=!1,n.list.length>0&&v.value.push(...n.list),n.list.length!=d.value.pageSize&&(y.value=!1),d.value.page++},b=e=>{c.value=e,g(!0)},k=()=>{var e;i.currentRoute.value.query.category?c.value=decodeURIComponent((e=i.currentRoute.value.query.category)==null?void 0:e.toString()):c.value=u.value.length>0?u.value[0]:"Tiles",g(!0)};return q(i.currentRoute,()=>{k()}),T(()=>{k()}),(e,n)=>{const C=x("el-col"),B=x("el-row"),H=V("loading");return s(),a("div",Q,[_(z,{module:"product"}),t("div",W,[_(B,null,{default:h(()=>[_(C,{span:24,class:"category-container"},{default:h(()=>[(s(!0),a(S,null,w(u.value,(o,m)=>(s(),a("div",{key:m,class:$(["category-item-container",{selected:c.value==o}]),onClick:I=>b(o)},[t("div",Y,L(o),1)],10,X))),128))]),_:1}),_(C,{span:24,class:"list-container"},{default:h(()=>[(s(!0),a(S,null,w(v.value,(o,m)=>(s(),a("div",{onClick:I=>f(i).push({path:`/productDetail/${o.id}`}),key:m,class:"product-item-container"},[ee,t("img",{class:"product-image",src:o.imgs[0]},null,8,te),t("div",oe,[t("div",se,L(o.name),1)])],8,Z))),128))]),_:1}),t("div",ae,[y.value?A((s(),a("div",{key:0,"element-loading-spinner":f(J),"element-loading-svg-view-box":"-10, -10, 50, 50","element-loading-background":"rgba(122, 122, 122, 0.8)",class:"load-more-btn",onClick:n[0]||(n[0]=()=>{g()})},[F(" Load More ")],8,ne)),[[H,p.value]]):(s(),a("div",ce,"No More"))])]),_:1})])])}}});const ue=G(re,[["__scopeId","data-v-5763ae34"]]);export{ue as default};
